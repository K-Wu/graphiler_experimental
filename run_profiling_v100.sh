sudo nvidia-smi --persistence-mode=1
sudo nvidia-smi -lgc 1245,1245
export REPEAT=1

#nsys profile -o RGCN_run_all_annotated_5.nsys_output python /home/ubuntu/graphiler/examples/RGCN/RGCN.py all 0
#nsys profile -o HGT_run_all_annotated_4.nsys_output python /home/ubuntu/graphiler/examples/HGT/HGT.py all 0
ncu --export RGCN_compute_all3 --force-overwrite --target-processes all --replay-mode kernel --kernel-name-base function --launch-skip-before-match 0 --section ComputeWorkloadAnalysis --section InstructionStats --section LaunchStats --section MemoryWorkloadAnalysis --section MemoryWorkloadAnalysis_Chart --section MemoryWorkloadAnalysis_Tables --section Nvlink_Tables --section Nvlink_Topology --section Occupancy --section SchedulerStats --section SourceCounters --section SpeedOfLight --section SpeedOfLight_RooflineChart --section WarpStateStats --sampling-interval auto --sampling-max-passes 5 --sampling-buffer-size 33554432 --profile-from-start 1 --cache-control all --clock-control base --apply-rules yes --import-source no --check-exit-code yes --nvtx --nvtx-include my_code_range  python /home/ubuntu/graphiler/examples/RGCN/RGCN.py all 0
ncu --export HGT_compute_all3 --force-overwrite --target-processes application-only --replay-mode kernel --kernel-name-base function --launch-skip-before-match 0 --section ComputeWorkloadAnalysis --section InstructionStats --section LaunchStats --section MemoryWorkloadAnalysis --section MemoryWorkloadAnalysis_Chart --section MemoryWorkloadAnalysis_Tables --section Nvlink_Tables --section Nvlink_Topology --section Occupancy --section SchedulerStats --section SourceCounters --section SpeedOfLight --section SpeedOfLight_RooflineChart --section WarpStateStats --sampling-interval auto --sampling-max-passes 5 --sampling-buffer-size 33554432 --nvtx --nvtx-include my_code_range --profile-from-start 1 --cache-control all --clock-control base --apply-rules yes --import-source no --check-exit-code yes python /home/ubuntu/graphiler/examples/HGT/HGT.py all 0
